LIVERMORE PROJECT - CLAUDE CONTEXT

## Current State: Phase 3 - Indicators & Alerts (Complete)

## Purpose
Track the user's current account positions on Coinbase.

## Phase 2: COMPLETED
- Coinbase WebSocket connection with JWT auth (working)
- Real-time ticker and L2 data streaming
- Data cached to Redis
- Discord webhook tested and working

## Phase 3: COMPLETED
- [x] Technical indicators library (@livermore/indicators)
  - SMA, EMA, RMA core functions
  - True Range and ATR (Wilder's smoothing)
  - MACD-V (Spiroglou spec) with stage classification
  - 66 unit tests passing
- [x] MACD-V implementation per spec
- [x] Indicator calculation service
- [x] Alert evaluation service
- [x] Discord notification service
- [x] tRPC API routers (indicator + alert)
- [x] Server integration complete

## Key Files
- Specs: `.specify/specs/` (ALL specs go here)
- MACD-V spec: `.specify/specs/macdv-system/MACD-V_Spiroglou_Exact_Formulas.md`
- Constitution: `CONSTITUTION.md`
- Indicators package: `packages/indicators/`
- Services: `apps/api/src/services/`
- Routers: `apps/api/src/routers/`

## Claude Code Plugins Installed
- crypto-signal-generator@claude-code-plugins-plus

## Environment Variables (Windows User environment)
- DATABASE_LIVERMORE_USERNAME = Livermore
- DATABASE_LIVERMORE_PASSWORD = (set)
- LIVERMORE_DATABASE_NAME = Livermore
- DISCORD_LIVERMORE_BOT = (set, tested working)
- REDIS_URL = redis://127.0.0.1:6400
- Coinbase_ApiKeyId = (set)
- Coinbase_EcPrivateKeyPem = (set)

## To Run Server
powershell -ExecutionPolicy Bypass -File "C:\Dev\claude\Livermore\scripts\run-api-dev.ps1"

## tRPC Endpoints
- `/trpc/indicator.getCurrent` - Get cached indicator value
- `/trpc/indicator.getMACDV` - Get MACD-V with stage
- `/trpc/indicator.calculateMACDV` - Calculate from candles
- `/trpc/indicator.getMACDVSeries` - Get series for charting
- `/trpc/alert.list` - List all alerts
- `/trpc/alert.create` - Create new alert
- `/trpc/alert.update` - Update alert
- `/trpc/alert.delete` - Delete alert
- `/trpc/alert.toggle` - Toggle alert active status
- `/trpc/alert.history` - Get alert trigger history

## GitHub
https://github.com/SpartanDigitalDotNet/Livermore

## Important Notes
- DO NOT modify code without explicit authorization
- All specs MUST be stored in `.specify/specs/`
- User will state when we are not aligned - wait for realignment before proceeding
